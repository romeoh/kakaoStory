<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>  
<title>funnyApp</title>
<link rel="stylesheet" type="text/css" href="../css/style.css">

<style type="text/css">
body {margin:0}
.bg {background:#eee}
.wrapper {position:relative; width:320px; height:400px; border:1px solid blue; margin:50px auto 0 auto; overflow:hidden;}
#counter {position:absolute; top:200px; left:100px; width:100px; height:100px;}
#knife {position:absolute; border:1px solid blue; width:200px; height:400px; left:60px; top:-350px}	/*-350*/
#pointer {width:100px; height:100px; border:1px solid black; position:absolute; bottom:60px; left:120px}
</style>
</head>

<body style="">

<div style="border:1px solid red; width:100%; height:50px; position:fixed; top:0" id="adTop"></div>

<div class="bg">
	<div class="wrapper">
		<div id="counter">3</div>
		<div id="knife"></div>
		<div id="pointer"></div>
	</div>
</div>

<!--div style="border:1px solid red; width:100%; height:50px; position:fixed; bottom:0" id="adBottom"-->

</div>

<script type="text/javascript" src="../js/jquery-2.0.0.min.js"></script>
<script type="text/javascript" src="../js/kakao.link.js"></script>
<script type="text/javascript" src="../js/finger.js"></script>

<script type="text/javascript">
var  intervalId = null
	,launchCount = 3
	,pressing = false

$('#pointer').on('touchstart', start);

function start(evt){
	evt.preventDefault();
	$('#pointer').on('touchend', end);
	intervalId = setInterval(launch, 1000);
}

function end(){
	$('#pointer').off('touchend');
	if (pressing) {
		alert('성공')
		console.log('success')
	} else {
		alert('실패')
		console.log('fail')
	}
}

function launch(){
	launchCount--;
	$('#counter').text(launchCount)
	if (launchCount == 0) {
		clearInterval(intervalId);
		setTimeout(go, getRan());	
	}
}

function go(){
	pressing = true;
	$('#counter').text('GO')
	$('#knife').animate({
		'top':'0'
	}, 300, function(){
		pressing = false;
	})
}

function getRan(){
	return Math.floor(Math.random() * 3000)
}



</script>
</body>
</html>






















